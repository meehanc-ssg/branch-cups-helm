# Default values for branch-cups
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: chmeehan/branch-cups-server
  pullPolicy: IfNotPresent
  tag: "v1.1"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

service:
  type: LoadBalancer
  annotations: {}
  port: 631
  targetPort: 631

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

nodeSelector: {}

tolerations: []

affinity: {}

# CUPS Configuration - Base template
# Override in location-specific values files
cupsConfig: |
  LogLevel warn
  MaxLogSize 0
  Listen localhost:631
  Listen /run/cups/cups.sock
  Browsing No
  BrowseLocalProtocols none
  DefaultAuthType Basic
  WebInterface Yes
  
  # Allow local access
  <Location />
    Order allow,deny
    Allow localhost
    Allow 127.0.0.1
    Allow 10.0.0.0/8
  </Location>
  
  <Location /admin>
    Order allow,deny
    Allow localhost
    Allow 127.0.0.1
    Allow 10.0.0.0/8
  </Location>
  
  <Location /admin/conf>
    Require admin @SYSTEM
    Order allow,deny
    Allow localhost
    Allow 127.0.0.1
    Allow 10.0.0.0/8
  </Location>
